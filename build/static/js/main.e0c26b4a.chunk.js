(this["webpackJsonpchat-client"]=this["webpackJsonpchat-client"]||[]).push([[0],{34:function(e,t,a){e.exports=a(77)},72:function(e,t){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(31),l=a.n(r),c=a(5),m=a(6),u=a(8),o=a(7);var i=function(e){return s.a.createElement("nav",{className:"navbar navbar-dark bg-primary"},s.a.createElement("a",{className:"navbar-brand",href:"/"},"Chat App"))};var h=function(e){return s.a.createElement(s.a.Fragment,null,s.a.createElement("h1",null,"Welcome To Chat"),s.a.createElement("hr",null),s.a.createElement("p",null,s.a.createElement("strong",null,"Enter a username and start chatting!")),s.a.createElement("form",{autoComplete:"off",onSubmit:e.onSubmit},s.a.createElement("p",null,s.a.createElement("label",null,"username",s.a.createElement("br",null),s.a.createElement("input",{type:"text",maxLength:"12",pattern:"^[a-zA-Z][a-zA-Z0-9_]{1,12}$",title:"2 to 12 characters long, letters, numbers and underscores allowed",required:!0,value:e.usernameValue,onChange:e.onUsernameChange}))),s.a.createElement("p",null,s.a.createElement("input",{type:"submit",className:"btn-lg btn-primary",value:"Start Chatting"}))))},g=a(33);var d=function(e){return s.a.createElement("div",{className:"col text-light"},s.a.createElement("h1",null,"Chat"))};var E=function(e){return s.a.createElement("div",null,e.user.name)};var v=function(e){return s.a.createElement("div",{className:"col-2 mr-2 bg-light text-dark"},s.a.createElement("h3",null,"Users"),e.users.map((function(e,t){return s.a.createElement(E,{key:t.toString(),user:e})})))};var p=function(e){return s.a.createElement("div",null,s.a.createElement("strong",null,e.message.user.name),", \xa0",e.message.text)};var f=function(e){return s.a.createElement("main",{className:"col mx-2 text-muted bg-light"},s.a.createElement("h3",null,"Messages"),e.messages.map((function(e,t){return s.a.createElement(p,{key:t.toString(),message:e})})))};var b=function(e){return s.a.createElement("div",{className:"col p-2"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-1"},s.a.createElement("label",{className:"text-light",htmlFor:"messageText"},e.user.name)),s.a.createElement("div",{className:"col"},s.a.createElement("input",{type:"text",className:"w-100",id:"messageText",autoFocus:!0,placeholder:"Type your message...",value:e.text,onChange:e.onChange,onKeyUp:e.onKeyUp})),s.a.createElement("div",{className:"col-1"},s.a.createElement("button",{onClick:e.onSend},"Send"))))},S=a(32),y=a.n(S),k=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleCompose=function(e){n.setState({messageText:e.target.value})},n.handleKeyUp=function(e){13===e.keyCode&&n.handleSendMessage(e)},n.handleSendMessage=function(e){e.preventDefault();var t={user:n.me,text:n.state.messageText};n.socket.emit("message",t),n.setState({messageText:""})},n.socket={},n.me={id:"",name:n.props.username},n.state={users:[],messages:[],messageText:""},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.socket=y()(),this.socket.on("connect",(function(){return e.me.id=e.socket.id})),console.log(this.me),this.socket.on("message",(function(t){e.setState({messages:[].concat(Object(g.a)(e.state.messages),[t])})})),this.socket.on("users",(function(t){e.setState({users:t})})),this.socket.on("history",(function(t){e.setState({messages:t})})),this.socket.emit("join",this.me)}},{key:"componentWillUnmount",value:function(){this.socket.close()}},{key:"render",value:function(){return s.a.createElement("div",{className:"bg-secondary"},s.a.createElement("div",{className:"row"},s.a.createElement(d,null)),s.a.createElement("div",{className:"row",style:{height:"40em"}},s.a.createElement(f,{messages:this.state.messages}),s.a.createElement(v,{users:this.state.users})),s.a.createElement("div",{className:"row"},s.a.createElement(b,{onChange:this.handleCompose,onSend:this.handleSendMessage,onKeyUp:this.handleKeyUp,user:this.me,text:this.state.messageText})))}}]),a}(n.Component),x=function(e){Object(u.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleUsernameChange=function(e){n.setState({usernameValue:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.setState({showStart:!1})},n.state={usernameValue:"",showStart:!0},n}return Object(m.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"container"},s.a.createElement(i,null),this.state.showStart?s.a.createElement(h,{usernameValue:this.state.usernameValue,onUsernameChange:this.handleUsernameChange,onSubmit:this.handleSubmit}):s.a.createElement(k,{username:this.state.usernameValue}))}}]),a}(n.Component);var C=function(){return s.a.createElement(x,null)};l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(C,null)),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.e0c26b4a.chunk.js.map